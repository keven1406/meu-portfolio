<!DOCTYPE html>
<html lang = 'pt-br'>
    <head>

        <!-- Autor: Elias Keven -->
        <!-- Data: 17/10/2018 -->

        <title>Elias Keven</title>
        <meta name = 'viewport' content = 'width=device-width, initial-scale=1, shrink-to-fit=no'>
        <meta name = "theme-color" content = "black">
        <meta name = "apple-mobile-web-app-status-bar-style" content = "black">
        <meta name = "msapplication-navbutton-color" content = "black">
        <meta name = 'description' content = 'Portfolio de Elias Keven'>
        <meta charset = 'UTF-8'/>
        <link rel = "stylesheet" href = "https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity = "sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin = "anonymous">
        <link rel = 'stylesheet' href = '../public/estilo.css'>
        <link rel = 'stylesheet' href = '../public/estilo-postagem.css'>
    </head>
    <body>
        <div id = 'fundo-cabecalho'>
            <div class = 'container'>
                <header>
                    
                    <!-- linha 1 -->
                    <!-- justify-content-between -->
                    <div class = 'row align-items-center' id = 'cabecalho'>
                        <!-- coluna 1-->
                        <div class = 'col-6 col-sm-8 col-lg-8 align-items-center'>
                            <h1 style = 'margin: 5px'>Elias Keven</h1>
                        </div>
                        <!-- coluna 2 -->
                        <div class = ' col-6 col-sm-3 col-lg-3'>
                            <nav>
                                <ul class = 'flexbox-end align-items-center' style = 'margin: 0px'>
                                    <li><a href = '../index.html'>PORTFÓLIO</a></li>
                                    <li><a href = '#'>PROJETOS</a></li>
                                </ul>
                            </nav>
                        </div>          
                    </div>
                    
                    <!-- final da linha 1 -->

                </header>
            </div>
        </div>
        <section>
            <div class = 'container'>
                <main>
                    <header id = 'cabecalho-postagem'>
                        <h1>Autor: Elias Keven</h1>
                        <h2>Data da postagem: 20 de dezembro de 2016. </h2>
                        <h3><a href = '../index-blog.html'>Menu</a> > JavaScript – Recursão</h3>
                    </header>
                    <article id = 'postagem-principal'>         


<h1>JavaScript – Recursão</h1>


<p class = 'recuo'>Pessoal, estamos em uma parte que não é tão básica assim. <em>Recursão</em> já é algo mais complexo, porem existe inúmeros exemplos que podemos aprender. Tentarei criar um bem fácil para que vocês entendam. Você precisa procurar e analisar outros códigos por ai para poder gravar isso bem na sua mente. Você só irá aprender esse conteúdo se praticar e analisar bem. Sem fazer isso você não vai aprender!</p>

<p class = 'recuo'>Vimos anteriormente que <em>Closures</em> é uma forma de obtermos variáveis locais depois de sair do bloco da função. Entendemos também  o que é <em>Pilha de chamada</em>, que como o nome já diz, é uma pilha onde as funções vão ser organizadas por ordem de chamada. E no fim serão eliminadas também pela ordem que foi chamada. Exemplo: function chamada1() vai ser armazenada na pilha de chamada. Assim que chegar ao fim do seu processo ela será retirada da pilha, voltando para o fluxo anterior a ela. Resumi isso por que <em>Recursão</em> tem tudo haver. Vamos entender do que se trata.</p>

<p class = 'recuo'>Ainda usando o exemplo anterior da Matrioska, vamos entender como funciona e o que é <em>recursão</em>. <em>Recursão</em> é o ato de <strong>repetir</strong> uma função várias vezes até gerar o resultado requerido. Imagine que queremos pegar uma bolinha que está na ultima Matrioska (Se não sabe que exemplo é esse, veja o artigo que escrevi anteriormente sobre escopo léxico. Calma, não precisa ir procurar. É só <a href = './javascript-scopo-lexico.js'>clicar aqui</a>), porem não podemos colocar essa bolinha na mesa até colocarmos novamente todas as Matrioskas uma dentro da outra. Como faríamos isso? É simples: Abriremos a <strong>primeira</strong> Matrioska, depois a <strong>segunda</strong>, e assim sucessivamente até chegarmos na ultima onde está a bolinha. Pegaremos a bolinha, fecharemos a ultima Matrioska e colocaremos a bola na penúltima Matrioska. Assim sucessivamente até chegar na primeira Matrioska.  Ao chegar na primeira Matriosca, podemos encerrar a rotina e por a bolinha na mesa.</p>

<p style = 'color: #65638c;'>Matrioska 1 – Matrioska um é aberta e dentro dela está a Matrioska 2</p>

<p style = 'color: #4a4789;'>Matrioska 2 – Matrioska dois é aberta e assim como a um, existe outra dentro dela.</p>

<p style = 'color: #2f2a89;'>Matrioska 3 – Matrioska três é aberta, e dentro dela está a ultima Matrioska.</p>

<p style = 'color: #07008e;'>Matrioska 4 – Ultima Matrioska que contem a bolinha dentro dela.</p>

<p style = 'color: #2f2a89;'>Matrioska 3 – A ultima será fechada e a bolinha passara para a penúltima</p>

<p style = 'color: #4a4789;'>Matrioska 2 – a penúltima será fechada e passara apara antepenúltima</p>

<p style = 'color: #65638c;'>Matrioska 1 – e por fim volta para a primeira.</p>

<p class = 'recuo'>Entenderam como funciona o esquema? Uma <strong>função</strong> irá chamar outra <strong>função</strong> até encontrar uma resposta, quando encontrada, ela irá retornar essa resposta na <strong>função</strong> anterior, e da anterior para a anterior, até chegar na primeira função. E dai ir para o fluxo de controle normal do programa.</p>

<p class = 'recuo'>Como falei antes. Apesar de simples, para um iniciante não é tão simples assim. Irei colocar 5 códigos com recursões que criei para você analisar e ter como base para criar o seu. Não se preocupe, o primeiro e segundo será todo comentado. Os três últimos deixarei para vocês analisarem.</p>

<div class = 'caixa-codigo barra-horizontal border'>
    <p data-codigo = true>
        function somar(n){
            let n1=0, n2 = 1; 
            function calculando(n,n1){ 
                n2 += n1; 
                if (n1 >= n) return n2;  
                else return calculando(n,n1 + 1); 
            }
            return calculando(n, n1);
        }
        
        console.log(somar(10));
    </p>
    <p class = 'caixa-codigo border'>//56</p>
</div>       


<p class = 'recuo'>Tudo inicia na ultima linha, chamando a função "somar" passando como argumento o valor 10. "Somar" irá criar duas variáveis locais, a n1 e n2. Após criar essas variáveis, irá retornar o valor obtido pela função "calculando". Ao chamar a função "calculando", será passado n e n1 como argumento. Se, n1 for maior que o valor de n, será retornado n2, que é a soma de n1, com o n2. Observe que n2 está recebendo o valor atual de n1. Como n2 não foi uma variável criada dentro do escopo da função "calculando", o valor será inserido dentro da variável que está no escopo externo a essa função, ou seja, a variável n2 é uma variável local da função "somar". Caso n1 não for maior que n, será retornado a chamada da função "calculando", passando agora como argumento o valor de n e o n1 somado 1.</p>

<p>Ao terminar todo o processo, todas as funções que foram chamadas vão retornar o valor que obtiveram para a função que as chamou, até chegar na primeira chamada de função que está no console.log(somar)(10).</p>

<p>Não é tão difícil quanto parece, mas <strong>REPITO: TREINE, ANALISE e TREINE NOVAMENTE.</strong> Só com prática você conseguirá dominar isso.</p>

<p class = 'recuo'>O programa a seguir diz quantos números de 0 até 10 podem ser divididos por 5. Se vocês notarem bem, se mudarmos os números 10 e 5, e inserirmos 100 e 3, o programa continuará funcionando dando a resposta correta. Confiram:</p>



<div class = 'caixa-codigo barra-horizontal border'>
    <p data-codigo = true>
        function dividir(n,d){
            let n1 = 0, resp = 0;
            function calculando(n, n1) { 
                if (n1 % d == 0 && n1 != 0) {  
                    resp += 1; 
                    console.log (n1); 
                } 
                if (n1 >= n) 
                    return resp; 
                return calculando(n, n1 + 1); 
            } 
            return calculando(n, n1); 
        }
        console.log ("A quantidade de números que podem ser divididos é: "" + dividir(10, 5));
    </p>
    <p class = 'border caixa-codigo'>
    //resultado: <br/>
        5 <br/>
        10 <br>
        A quantidade de números que podem ser divididos é: 2
    </p>
</div>

<p>Agora como exercício, vamos analisar e entender os códigos a seguir:</p>

<p>O programinha abaixo calcula uma raiz quadrada exata:</p>

<div class = 'caixa-codigo barra-horizontal border'>
    <p data-codigo = true>
        function raizQ(n) { 
            let cont = 0, resp = 0, soma = 0; 
            function calculando(cont){ 
                if (soma >= n)
                    return resp; 
                else if (cont % 2 == 1) { 
                    resp ++ ; 
                 soma += cont; 
                }
                return calculando(cont+1); 
            } 
            return calculando(cont); 
        } 
        console.log (raizQ(25)); 
        <p class = 'caixa-codigo border'>
            //5
        </p>
    </p>
</div>
<p class = 'recuo'>O código abaixo é de um programinha que calcula a sequência de Fibonacci. Como funciona essa sequência? É simples! Ela soma o valor anterior com o atual, e a resposta será somada com a atual, para que assim continue o ciclo. Exemplo: 1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8…</p>

<div class = 'caixa-codigo barra-horizontal border'>
    <p data-codigo = true>
        function fib(n1) { 
            let an = 0, at = 1,resp; 
            function calculandoFib(an,at) { 
                if ( at >= n1) return at; 
                else { 
                    resp = an; 
                    console.log (at); 
                    return calculandoFib(an = at, at += resp); 
                } 
            }  
            return calculandoFib(an, at); 
        } 
        fib(10); 
    </p>
    <p class = 'border caixa-codigo'>

        Resposta: <br/>

        1<br/>

        1<br/>

        2<br/>

        3<br/>

        5<br/>

        8<br/>
    </p>
</div>

<p class = 'recuo'>Para concluir nosso quinto e último código desse post, vamos falar sobre potenciação. Lembrando que qualquer número elevado a 0 terá o resultado igual a 1. Isso é regra da exponenciação. Então vamos ver o código:</p>


<div class = 'caixa-codigo barra-horizontal border'>
    <p data-codigo = true>
        function potenciacao(n, p) { 
        let c = 1, result = n; 
        function multiplicar(result, c) { 
        if ( c >= p) return result; 
        else 
            return multiplicar(result * n, c + 1); 
        } 
        if (p == 0) 
           return 1; 
        else 
            return multiplicar(result, c); 
        } 
        console.log (potenciacao(4,2)); 
    </p>
    <p class = 'border caixa-codigo'>//16</p>
</div>

<p class = 'recuo'>Se você tentar alterar os números para qualquer número que desejar, o resultado sairá corretamente. Tente colocar 8 elevado a 0 e observe o resultado.</p>

<p class = 'recuo'>Essa postagem foi bem maior que as anteriores. Mas foi preciso algo desse tamanho para desmestificar toda essa complexidade que existe nas funções recursivas. Se você chegou até aqui, significa que ama programação. Você é um guerreiro! Sua determinação é de ouro e poucos a tem! Força e continue lutando. Só assim, teremos um mundo melhor.</p>
                    </article>
                </main>
            </div>
        </section>
        <div class = 'container' style = 'background-color: #fffdfd;'>
            <footer id = 'rodape' class = 'border'>
                <nav class = 'centralizar'>
                    <ul class = 'centralizar'>
                        <li><a href = 'https://github.com/keven1406' target = '_blanck'>Github</a></li>
                        <li><a href = 'https://twitter.com/keven_2076' target = '_blanck'>Twitter</a></li>
                    </ul>
                </nav>
            </footer>
            <script src = '../public/javascript.js'></script>
            <script src = '../public/colorindo-codigo.js'></script>
        </div>
    </body>
</html>